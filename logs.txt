g++ -std=c++17 -pthread -I./utils -I./mpc -I./ -I/usr/include/eigen3 -c test/dealer.cpp -o test/dealer.o
g++ -pthread -o test/dealer test/dealer.o
g++ -std=c++17 -pthread -I./utils -I./mpc -I./ -I/usr/include/eigen3   -c -o test/mpc/test_mpc_primitives.o test/mpc/test_mpc_primitives.cpp
g++ -std=c++17 -pthread -I./utils -I./mpc -I./ -I/usr/include/eigen3 -c mpc/mpc.cpp -o mpc/mpc.o
g++ -std=c++17 -pthread -I./utils -I./mpc -I./ -I/usr/include/eigen3 -c utils/comm.cpp -o utils/comm.o
g++ -pthread -o test/mpc/test_mpc_primitives test/mpc/test_mpc_primitives.o mpc/mpc.o utils/comm.o
Dealer starting...
Total size per party: 11112 bytes.
R_X 2.12755e+09
R_Y 1.28218e+09
R_X_MSB(0) 0
R_X_MSB(1) 0
R_X_MSB(2) 0
R_X_MSB(3) 1.52588e-05
R_X_MSB(4) 1.52588e-05
R_X_MSB(5) 1.52588e-05
R_X_MSB(6) 1.52588e-05
R_X_MSB(7) 1.52588e-05
R_X_MSB(8) 0
R_X_MSB(9) 1.52588e-05
R_X_MSB(10) 1.52588e-05
R_X_MSB(11) 0
R_Y_MSB 0
R_X_N 2.12755e+09
R_Y_N 1.28218e+09
R_XY -2.25578e+13
R_X_RYMSB 0
R_XMSB_Y 0
R_XMSB_YMSB 0
Dealer finished successfully.
[Party 0] Listening for Party 1 on port 9002...
[Party 1] Connecting to Party 0 on port 9002...
[Party 1] <-> [Party 0] connection established.

--- Testing Tensor Share and Reconstruct for Party 1/2 ---
Party 1 Stats --- Sent: 64 bytes, Received: 128 bytes

--- Testing Secure MatMul 2D for Party 1/2 ---
Party 1 Stats --- Sent: 176 bytes, Received: 304 bytes

--- Testing Secure MatMul 3Dx2D for Party 1/2 ---
Party 1 Stats --- Sent: 272 bytes, Received: 456 bytes

--- Testing Truncate/Zero Extend Scalar for Party 1/2 ---
Party 1 Stats --- Sent: 14 bytes, Received: 20 bytes

--- Testing Truncate/Zero Extend 2D Tensor for Party 1/2 ---
Party 1 Stats --- Sent: 5632 bytes, Received: 8048 bytes

--- Testing Truncate/Zero Extend 3D Tensor for Party 1/2 ---
Party 1 Stats --- Sent: 160 bytes, Received: 232 bytes

--- Testing Optimized Element-wise Multiplication for Party 1/2 ---
[Party 0] <-> [Party 1] connection established.

--- Testing Tensor Share and Reconstruct for Party 0/2 ---
Original A:
Reconstructed A:
Party 0 Tensor Share/Reconstruct test passed!
Party 0 Stats --- Sent: 128 bytes, Received: 64 bytes

--- Testing Secure MatMul 2D for Party 0/2 ---
Party 0 2Dx2D MatMul test passed!
Party 0 Stats --- Sent: 304 bytes, Received: 176 bytes

--- Testing Secure MatMul 3Dx2D for Party 0/2 ---
Party 0 3Dx2D MatMul test passed!
Party 0 Stats --- Sent: 456 bytes, Received: 272 bytes

--- Testing Truncate/Zero Extend Scalar for Party 0/2 ---
Original (after trunc): -6.10352e-05
Reconstructed (after extend): 4.29497e+09
Party 0 Truncate/Zero Extend Scalar test passed!
Party 0 Stats --- Sent: 20 bytes, Received: 14 bytes

--- Testing Truncate/Zero Extend 2D Tensor for Party 0/2 ---
0.337631 0.337631
0.311829 0.311829
0.796432 0.796432
0.142578 0.142578
0.689697 0.689697
0.91983 0.91983
0.554108 0.554108
0.905975 0.905975
0.996277 0.996277
0.785019 0.785019
0.57782 0.57782
0.0823975 0.0823975
0.714722 0.714722
0.739136 0.739136
0.0270386 0.0270386
0.475098 0.475098
0.775604 0.775604
0.0317841 0.0317841
0.173523 0.173523
0.689178 0.689178
0.943909 0.943909
0.861115 0.861115
0.338089 0.338089
0.63324 0.63324
0.476761 0.476761
0.49852 0.49852
0.802872 0.802872
0.423721 0.423721
0.645691 0.645691
0.327286 0.327286
0.733109 0.733109
0.200851 0.200851
0.800583 0.800583
0.795822 0.795822
0.258072 0.258072
0.859131 0.859131
0.434616 0.434616
0.881607 0.881607
0.546448 0.546448
0.131638 0.131638
0.114746 0.114746
0.817581 0.817581
0.749893 0.749893
0.437668 0.437668
0.864197 0.864197
0.222382 0.222382
0.965759 0.965759
0.762573 0.762573
0.535873 0.535873
0.904022 0.904022
0.433197 0.433197
0.109299 0.109299
0.907562 0.907562
0.671768 0.671768
0.968048 0.968048
0.202835 0.202835
0.33429 0.33429
0.442963 0.442963
0.940353 0.940353
0.196609 0.196609
0.587799 0.587799
0.305099 0.305099
0.155396 0.155396
0.344009 0.344009
0.344589 0.344589
0.195694 0.195694
0.375214 0.375214
0.443069 0.443069
0.432999 0.432999
0.209305 0.209305
0.851257 0.851257
0.886017 0.886017
0.781586 0.781586
0.535843 0.535843
0.861847 0.861847
0.560806 0.560806
0.8302 0.8302
0.559616 0.559616
0.848526 0.848526
0.500137 0.500137
0.688461 0.688461
0.524017 0.524017
0.751205 0.751205
0.212463 0.212463
0.523056 0.523056
0.392822 0.392822
0.765076 0.765076
0.818665 0.818665
0.967331 0.967331
0.214966 0.214966
0.0368195 0.0368195
0.997238 0.997238
0.71965 0.71965
0.4039 0.4039
0.671371 0.671371
0.181427 0.181427
0.854309 0.854309
0.874695 0.874695
0.53801 0.53801
0.57402 0.57402
0.0318146 0.0318146
0.327545 0.327545
0.445999 0.445999
0.569382 0.569382
0.504257 0.504257
0.121353 0.121353
0.323303 0.323303
0.181549 0.181549
0.236435 0.236435
0.580841 0.580841
0.597412 0.597412
0.71817 0.71817
0.806839 0.806839
0.476608 0.476608
0.633698 0.633698
0.700516 0.700516
0.298279 0.298279
0.443527 0.443527
0.289917 0.289917
0.806595 0.806595
0.877655 0.877655
0.670776 0.670776
0.689987 0.689987
0.238235 0.238235
0.458893 0.458893
0.0515747 0.0515747
0.591461 0.591461
0.657089 0.657089
0.559143 0.559143
0.861938 0.861938
0.89566 0.89566
0.320312 0.320312
0.119965 0.119965
0.827866 0.827866
0.975433 0.975433
0.90451 0.90451
0.293884 0.293884
0.0779419 0.0779419
0.457886 0.457886
0.848389 0.848389
0.238983 0.238983
0.33551 0.33551
0.327454 0.327454
0.44751 0.44751
0.495529 0.495529
0.513077 0.513077
0.120514 0.120514
0.684067 0.684067
0.13768 0.13768
0.474319 0.474319
0.563156 0.563156
0.0217285 0.0217285
0.220245 0.220245
0.763229 0.763229
0.557526 0.557526
0.269958 0.269958
0.25972 0.25972
0.291763 0.291763
0.552094 0.552094
0.393997 0.393997
0.263535 0.263535
0.968781 0.968781
0.202209 0.202209
0.236511 0.236511
0.829102 0.829102
0.290955 0.290955
0.749268 0.749268
0.948639 0.948639
0.306458 0.306458
0.530167 0.530167
0.926361 0.926361
0.740631 0.740631
0.228653 0.228653
0.94162 0.94162
0.117111 0.117111
0.12616 0.12616
0.0846558 0.0846558
0.646698 0.646698
0.695618 0.695618
0.653137 0.653137
0.674957 0.674957
0.512405 0.512405
0.175507 0.175507
0.0820312 0.0820312
0.38829 0.38829
0.536743 0.536743
0.321945 0.321945
0.0447083 0.0447083
0.614441 0.614441
0.255981 0.255981
0.165878 0.165878
0.464874 0.464874
0.921494 0.921494
0.670776 0.670776
0.787704 0.787704
0.0781555 0.0781555
0.0128479 0.0128479
0.68158 0.68158
0.374649 0.374649
0.995499 0.995499
0.0725555 0.0725555
0.50444 0.50444
0.195847 0.195847
0.667007 0.667007
0.379517 0.379517
0.681335 0.681335
0.379547 0.379547
0.150848 0.150848
0.793335 0.793335
0.583191 0.583191
0.012619 0.012619
0.450439 0.450439
0.362442 0.362442
0.00325012 0.00325012
0.426071 0.426071
0.13443 0.13443
0.0463104 0.0463104
0.446762 0.446762
0.0567322 0.0567322
0.993423 0.993423
0.299728 0.299728
0.963974 0.963974
0.48764 0.48764
0.687103 0.687103
0.587341 0.587341
0.522507 0.522507
0.902008 0.902008
0.998764 0.998764
0.276505 0.276505
0.608597 0.608597
0.309555 0.309555
0.643417 0.643417
0.352524 0.352524
0.511032 0.511032
0.440643 0.440643
0.646912 0.646912
0.869614 0.869614
0.510025 0.510025
0.469391 0.469391
0.528854 0.528854
0.588135 0.588135
0.526245 0.526245
0.254135 0.254135
0.680298 0.680298
0.167786 0.167786
0.267593 0.267593
0.0127563 0.0127563
0.90567 0.90567
0.570068 0.570068
0.910843 0.910843
0.950165 0.950165
0.552307 0.552307
0.739716 0.739716
0.676987 0.676987
0.529572 0.529572
0.797913 0.797913
0.887833 0.887833
0.310135 0.310135
0.449341 0.449341
0.609528 0.609528
0.714249 0.714249
0.528061 0.528061
0.441238 0.441238
0.913269 0.913269
0.672623 0.672623
0.437286 0.437286
0.891602 0.891602
0.755524 0.755524
0.967926 0.967926
0.484573 0.484573
0.541824 0.541824
0.35997 0.35997
0.132446 0.132446
0.142914 0.142914
0.884659 0.884659
0.0798798 0.0798798
0.0544739 0.0544739
0.596756 0.596756
0.635925 0.635925
0.073349 0.073349
0.470917 0.470917
0.217865 0.217865
0.402512 0.402512
0.846466 0.846466
0.18988 0.18988
0.845306 0.845306
0.938721 0.938721
0.0289001 0.0289001
0.211578 0.211578
0.501007 0.501007
0.994492 0.994492
0.444031 0.444031
0.577652 0.577652
0.626907 0.626907
0.667633 0.667633
0.430008 0.430008
0.864548 0.864548
0.8974 0.8974
0.39769 0.39769
0.930969 0.930969
0.429474 0.429474
0.341614 0.341614
0.547806 0.547806
0.596481 0.596481
0.146149 0.146149
0.226196 0.226196
0.212692 0.212692
0.22702 0.22702
0.900955 0.900955
0.00563049 0.00563049
0.288132 0.288132
0.407776 0.407776
0.624878 0.624878
0.285019 0.285019
0.359772 0.359772
0.566803 0.566803
0.806854 0.806854
0.57222 0.57222
0.199631 0.199631
0.356277 0.356277
0.0630646 0.0630646
0.740799 0.740799
0.382828 0.382828
0.451691 0.451691
0.471329 0.471329
0.391159 0.391159
0.494095 0.494095
0.802795 0.802795
0.200775 0.200775
0.799911 0.799911
0.0760651 0.0760651
0.486313 0.486313
0.428757 0.428757
0.689209 0.689209
0.705383 0.705383
0.648529 0.648529
0.535126 0.535126
0.0917358 0.0917358
0.905945 0.905945
0.455963 0.455963
0.144531 0.144531
0.0318451 0.0318451
0.101685 0.101685
0.258942 0.258942
0.519318 0.519318
0.40538 0.40538
0.342148 0.342148
0.220886 0.220886
0.919266 0.919266
0.0431976 0.0431976
0.13028 0.13028
0.655869 0.655869
0.401382 0.401382
0.815643 0.815643
0.0169067 0.0169067
0.305023 0.305023
0.5121 0.5121
0.0230865 0.0230865
0.522751 0.522751
0.824753 0.824753
0.550613 0.550613
0.844788 0.844788
0.915176 0.915176
0.662308 0.662308
0.903091 0.903091
0.764587 0.764587
0.677139 0.677139
0.503448 0.503448
0.584686 0.584686
0.116745 0.116745
0.310822 0.310822
0.365128 0.365128
0.167694 0.167694
0.218719 0.218719
0.245575 0.245575
0.593903 0.593903
0.64502 0.64502
0.89447 0.89447
0.104828 0.104828
0.867004 0.867004
0.379349 0.379349
0.794418 0.794418
0.71344 0.71344
0.865723 0.865723
0.222244 0.222244
0.208633 0.208633
0.888443 0.888443
0.844803 0.844803
0.843582 0.843582
0.0653992 0.0653992
0.847504 0.847504
0.913223 0.913223
0.446106 0.446106
0.149536 0.149536
0.261871 0.261871
0.206497 0.206497
0.574173 0.574173
0.907074 0.907074
0.360077 0.360077
0.48465 0.48465
Party 0 Truncate/Zero Extend 2D Tensor test passed!
Party 0 Stats --- Sent: 8048 bytes, Received: 5632 bytes

--- Testing Truncate/Zero Extend 3D Tensor for Party 0/2 ---
0.590897 0.590897
0.484192 0.484192
0.559509 0.559509
0.997498 0.997498
0.184021 0.184021
0.546234 0.546234
0.848663 0.848663
0.79126 0.79126
Party 0 Truncate/Zero Extend 3D Tensor test passed!
Party 0 Stats --- Sent: 232 bytes, Received: 160 bytes

--- Testing Optimized Element-wise Multiplication for Party 0/2 ---
r_x_n_share 1.40396e+09
r_y_n_share 4.03589e+08
r_x_msb_share 0
r_y_msb_share 0
r_xy_share -6.89244e+13
r_x_rymsb_share 0
r_xmsb_y_share 0
r_xmsb_ymsb_share 0
m 48
term1 0
term2 -8.40093e+13
term3 -4.73907e+13
term4 3.95128e+13
term5 -8.30502e+13
term6 -1.4182e+13
term7 0
term8 0
-7791.92 8524.83 -4.35321e+12 -4.35321e+12
2787.1 26148.8 4.77622e+12 4.77622e+12
-2266.54 8379.5 -2.60696e+13 -1.24469e+12
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = -2.48249e+13
19214.4 28310.8 3.56498e+13 3.56498e+13
5437.41 18591.4 -8.63697e+13 6.62496e+12
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = -9.29946e+13
-8856.68 -32290.7 1.87425e+13 1.87425e+13
-1621.15 14071 -9.96033e+12 -1.49495e+12
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = -8.46538e+12
26412 -30351.8 -1.16949e+14 -5.2537e+13
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = -6.44116e+13
25157.2 2769.78 -5.67785e+13 4.56655e+12
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = -6.1345e+13
-23811.2 -10271.5 3.6172e+13 1.60286e+13
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = 2.01434e+13
-25535.2 -20352.7 1.17017e+14 3.40598e+13
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = 8.29573e+13
-14128 4184.76 -1.99722e+13 -3.87463e+12
C_trunc(i,j).to_float<double>() - expected_C(i,j).template to_float<double>() = -1.60975e+13
Party 0 Optimized Element-wise Mul test FAILED!
Reconstructed C (Truncated)
[[-4353214517016.1562, 4776215217229.4561, -26069599644041.8125, 35649849120431.9688]
 [-86369672565102.8750, 18742545102509.2656, -9960330534177.0312, -116948650322105.4688]
 [-56778470924036.4141, 36171958757503.6484, 117017093385686.2344, -19972165207485.5273]]
Expected C (Truncated)
[[-4353214517016.1562, 4776215217229.4561, -1244688673161.8140, 35649849120431.9688]
 [6624959327889.1201, 18742545102509.2656, -1494949993761.0312, -52537025783993.4766]
 [4566546964731.5869, 16028562139263.6484, 34059800063446.2344, -3874627782077.5288]]
Party 0 Stats --- Sent: 1360 bytes, Received: 1184 bytes
